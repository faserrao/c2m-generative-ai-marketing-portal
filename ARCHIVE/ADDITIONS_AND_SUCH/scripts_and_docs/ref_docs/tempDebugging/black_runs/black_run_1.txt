 ./format.sh assets/shared_module
Formatting directory: assets/shared_module
All done! âœ¨ ðŸ° âœ¨
3 files left unchanged.
warning: The top-level linter settings are deprecated in favour of their counterparts in the `lint` section. Please update the following options in `pyproject.toml`:
  - 'select' -> 'lint.select'
assets/shared_module/python/channel_states.py:12:12: RET504 Unnecessary assignment to `channel_states` before `return` statement
   |
10 |     }
11 |
12 |     return channel_states
   |            ^^^^^^^^^^^^^^ RET504
   |
   = help: Remove unnecessary assignment

assets/shared_module/python/print_response.py:35:67: W291 Trailing whitespace
   |
33 |     """
34 |     # Serialize and print JSON data
35 |     serialized_json_response = json.dumps(json_response, indent=4)
   |                                                                   ^^ W291
36 |     print(f"{function_name}(): {text_to_print} response: {serialized_json_response}")
37 |     # Check if the response contains JSON data
   |
   = help: Remove trailing whitespace

Found 2 errors.
No fixes available (2 hidden fixes can be enabled with the `--unsafe-fixes` option).
Formatting complete!
(gamp_venv) frankserrao@Franks-MBP c2m-generative-ai-marketing-portal % pwd
/Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal
(gamp_venv) frankserrao@Franks-MBP c2m-generative-ai-marketing-portal % ls assets
Dockerfile     demo-data/     lambda/        layers/        shared_module/ streamlit/
(gamp_venv) frankserrao@Franks-MBP c2m-generative-ai-marketing-portal % ls assets/layers
factory_module/ langchain/      utilities/
(gamp_venv) frankserrao@Franks-MBP c2m-generative-ai-marketing-portal % ls assets/layers/factory_module
python/
(gamp_venv) frankserrao@Franks-MBP c2m-generative-ai-marketing-portal % ./format.sh assets/layers/factory_module
Formatting directory: assets/layers/factory_module
All done! âœ¨ ðŸ° âœ¨
9 files left unchanged.
warning: The top-level linter settings are deprecated in favour of their counterparts in the `lint` section. Please update the following options in `pyproject.toml`:
  - 'select' -> 'lint.select'
assets/layers/factory_module/python/factory_module.py:112:121: E501 Line too long (136 > 120)
    |
110 |         c2m_upload_address_list_status_code = response["statusCode"]
111 |         print(
112 |             f"CustomMessageConfig.create_message_request():c2m_upload_address_list_status_code = {c2m_upload_address_list_status_code }"
    |                                                                                                                         ^^^^^^^^^^^^^^^^ E501
113 |         )
114 |         if c2m_upload_address_list_status_code == 200:
    |

assets/layers/factory_module/python/factory_module.py:117:121: E501 Line too long (135 > 120)
    |
115 |             address_list_id = response["body"]
116 |             print(
117 |                 f"CustomMessageConfig.create_message_request():Address list uploaded successfully: address_list_id = {address_list_id}"
    |                                                                                                                         ^^^^^^^^^^^^^^^ E501
118 |             )
119 |         else:
    |

assets/layers/factory_module/python/factory_module.py:137:121: E501 Line too long (122 > 120)
    |
135 |             document_id = response["body"]
136 |             print(
137 |                 f"CustomMessageConfig.create_message_request():Document uploaded successfully. Document ID: {document_id}"
    |                                                                                                                         ^^ E501
138 |             )
139 |         else:
    |

assets/layers/factory_module/python/factory_module.py:174:13: RET503 Missing explicit `return` at the end of function able to return non-`None` value
    |
172 |               if channel == "SMS":
173 |                   return SMSMessageConfig()
174 |               if channel == "CUSTOM":
    |  _____________^
175 | |                 return CustomMessageConfig()
    | |____________________________________________^ RET503
176 |           else:
177 |               raise ValueError(f"Unsupported channel: {channel}")
    |
    = help: Add explicit `return` statement

Found 29 errors (25 fixed, 4 remaining).
No fixes available (1 hidden fix can be enabled with the `--unsafe-fixes` option).
Formatting complete!
(gamp_venv) frankserrao@Franks-MBP c2m-generative-ai-marketing-portal % ls
CODE_OF_CONDUCT.md    LICENSE               assets/               cdk.out/              images/               pyproject.toml        resize.sh             tempDebugging/
CONTRIBUTING.md       README.md             cdk.context.json      config.yml            infra/                requirements-dev.txt  samples/              tests/
InstallIssues.xlsx    app.py                cdk.json              format.sh*            poetry.lock           requirements.txt      scripts/
(gamp_venv) frankserrao@Franks-MBP c2m-generative-ai-marketing-portal % ls assets/layers/
factory_module/ langchain/      utilities/
(gamp_venv) frankserrao@Franks-MBP c2m-generative-ai-marketing-portal % ls assets/lambda
bedrock_content_generation_lambda/    genai_personalize_batch_segment_jobs/ genai_pinpoint_message/               genai_pinpoint_message_email/         genai_pinpoint_segment/
genai_personalize_batch_segment_job/  genai_pinpoint_job/                   genai_pinpoint_message_custom/        genai_pinpoint_message_sms/           genai_s3/
(gamp_venv) frankserrao@Franks-MBP c2m-generative-ai-marketing-portal % ./format.sh assets/lambda
Formatting directory: assets/lambda
Fixing /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_personalize_batch_segment_job/personalize_batch_segment_job.py
Fixing /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_pinpoint_message_sms/pinpoint_message_sms.py
Fixing /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_pinpoint_job/pinpoint_job.py
Fixing /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_pinpoint_segment/pinpoint_segment.py
Fixing /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_pinpoint_message/pinpoint_message.py
Fixing /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_pinpoint_message_email/pinpoint_message_email.py
Fixing /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/bedrock_content_generation_lambda/bedrock_content_generation_lambda.py
Fixing /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_personalize_batch_segment_jobs/personalize_batch_segment_jobs.py
Fixing /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_s3/s3_fetch.py
reformatted /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_personalize_batch_segment_jobs/personalize_batch_segment_jobs.py
reformatted /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_pinpoint_message_custom/pinpoint_message_custom.py
reformatted /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_pinpoint_message_email/pinpoint_message_email.py
reformatted /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_pinpoint_message_sms/pinpoint_message_sms.py
reformatted /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_pinpoint_job/pinpoint_job.py
reformatted /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_pinpoint_segment/pinpoint_segment.py
reformatted /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_s3/s3_fetch.py
reformatted /Users/frankserrao/MyStuff/TestAndPlay/Click2Mail/c2m-generative-ai-marketing-portal/assets/lambda/genai_pinpoint_message/pinpoint_message.py

All done! âœ¨ ðŸ° âœ¨
8 files reformatted, 2 files left unchanged.
warning: The top-level linter settings are deprecated in favour of their counterparts in the `lint` section. Please update the following options in `pyproject.toml`:
  - 'select' -> 'lint.select'
assets/lambda/bedrock_content_generation_lambda/bedrock_content_generation_lambda.py:114:12: RET504 Unnecessary assignment to `response` before `return` statement
    |
112 |     response = bedrock_runtime.invoke_model(body=body, modelId=model_id)
113 |
114 |     return response
    |            ^^^^^^^^ RET504
    |
    = help: Remove unnecessary assignment

assets/lambda/bedrock_content_generation_lambda/bedrock_content_generation_lambda.py:122:5: C901 `lambda_handler` is too complex (12 > 10)
    |
122 | def lambda_handler(event, context):
    |     ^^^^^^^^^^^^^^ C901
123 |     """
124 |     Lambda handler
    |

assets/lambda/bedrock_content_generation_lambda/bedrock_content_generation_lambda.py:190:8: E712 Avoid equality comparisons to `True`; use `if amazon_flag:` for truth checks
    |
188 |     contentType = "application/json"
189 |
190 |     if amazon_flag == True:
    |        ^^^^^^^^^^^^^^^^^^^ E712
191 |         input_data = json.dumps(
192 |             {
    |
    = help: Replace with `amazon_flag`

assets/lambda/bedrock_content_generation_lambda/bedrock_content_generation_lambda.py:200:10: E712 Avoid equality comparisons to `True`; use `if claude3_flag:` for truth checks
    |
198 |             body=input_data, modelId=MODEL_ID, accept=accept, contentType=contentType
199 |         )
200 |     elif claude3_flag == True:
    |          ^^^^^^^^^^^^^^^^^^^^ E712
201 |         system_prompt = "Please respond directly to user request. Do not add any extra comments"
202 |         # Prompt with user turn only.
    |
    = help: Replace with `claude3_flag`

Found 21 errors (17 fixed, 4 remaining).
No fixes available (3 hidden fixes can be enabled with the `--unsafe-fixes` option).
Formatting complete!
(gamp_venv) frankserrao@Franks-MBP c2m-generative-ai-marketing-portal %
